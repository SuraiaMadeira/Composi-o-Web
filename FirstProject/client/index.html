<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"> </script>
    <title>Quiz</title>
</head>

<body>
    <form>
        <input type="text" id="username" name="username" required>
        <input type="email" id="email" name="email" required>
        <input type="password" id="senha" name="senha" required>
        <input type="button" value="Registar" id="registo">
    </form>

    <script>
        fetch('http://localhost:3006/')
            .then(response => response.json())
            .then(function(data) {
                    data.forEach((index, element) => {
                })
                console.log(data);
            }).catch(error => {
                console.log(error);
            })

        $(document).ready(function(){
            $("#registo").click(function(){
                let username = $("#username").val();
                let email = $("#email").val();
                let senha = $("#senha").val();

                if( username == '' || username.length < 5 ){
                    alert('Escreva o teu nome corretamente, mínimo 5 letras');
                } else if( email == '' || email.length < 10 ){
                    alert('Escreva o teu email corretamente, mínimo 5 letras');
                } else if ( senha == '' || senha.length < 6 ){
                    alert('Escreva a senha corretamente, mínimo 6 letras');
                }
                $.post("http://localhost:3006/registo",
                    {
                        username: username,
                        senha: senha, 
                        email: email
                    }, 
                    function(data){
                        if(data === 'yes') {
                            alert("login success");
                        }
                });
            });
        });
    </script>
</body>

</html>